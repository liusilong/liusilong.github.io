---
title:  "Java IO 体系回顾"
date:   2019-10-13 16:54:42
author: 刘斯龙
categories: Java
tags: Java NIO
permalink: /:categories/nio
---

## 理解 Java I/O 系统

> 对程序语言的设计者来说，设计一个令人满意的 I/O（输入输出）系统，是一件极间距的任务
> 
> -- 《Thinking in Java》



## 流

### 流的概念

Java 程序通过流来完成输入输出。流是生产或消费信息的抽象。流通过 Java 的输入输出系统与物理设备链接。尽管与它们链接的物理设备不尽相同，所有流的行为具有相同的方式。这样，相同的输入输出类和方法使用于所有类型的外部设备。这意味着一个输入流能够抽象多种不同类型的输入：从磁盘文件，从键盘或从网络套接字。同样，一个输出流可以输出到控制台，磁盘文件或相连的网络。流失处理输入输出的一个洁净的方法，例如他不需要代码理解键盘和网络的不同。Java 中流的实现是在 `java.io` 包定义的类层次结构内部的。

### 输入/输出流概念

- 输入输出时，数据在通信通道中流动。所谓 **数据流(Stream)** 指的是所有数据通信通道之中，数据的起点和终点。信息的通道就是一个数据。只要是数据从一个地方**流**到另外一个地方，这种数据流动的通道都可以称为数据流。
- **输入输出是相对于程序来说的**。程序在使用数据时所扮演的角色有两个：一个是**数据源**，一个是**目的地**。若程序是数据流的源，即数据的提供者，这个数据流对程序来说就是一个“**输出数据流（数据从程序流出）**。若程序是数据流的终点，这个数据流对程序而言就是一个**输入数据流（数据从程序外流向程序）**。

### 输入输出类
- 从功能上分为两大类：输入流和输出流
- 从流结构上可分为字节流（以字节为处理单位或称面向字节）和字符流（以字符为处理单位或称面向字符）
- 字节流的输入和输出流基础是 `InputStream` 和 `OutputStream`这两个**抽象类**，字节流的输入输出操作由这两个类的子类实现。字符流是 **Java 1.1** 版后新增加的以字符为单位进行输入输出处理的流，字符流输入输出的基础是**抽象类** `Reader` 和 `Writer`
- 字符流是依赖字节流来产生的
- 在最底层，所有的输入输出都是字节形式的。基于字符的流只为处理字符提供方便有效的方法。

### 字节流和字符流

| 字节流 | 字符流 |
| :-: | :-: |
| InputStream | Reader |
| OutputStream | Writer |

### 输入流
**读取数据的逻辑为：**
1. 打开一个流
2. 通常使用一个 while 循环来读取数据
3. 关闭这个流

### 输出流
**写数据的逻辑为：**
1. 打开一个流
2. 通常使用一个 while 循环来写出数据
3. 关闭这个流

### 流的分类
- **节点流：**从特定的地方读写的流类，例如：磁盘或一块内存区域。
- **过滤流：**使用节点流作为输入或者输出。过滤流是使用一个已经存在的输入流或输出流连续创建的。

> 节点流数直接和目标数据打交道的
> 过滤流是对节点流的一个包装



## 熟练使用 java.io 包中的相关类与接口进行 I/O 编程



## 掌握 Java I/O 的设计原则与使用的设计模式